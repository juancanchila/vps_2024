"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3493],{3493:(O,h,a)=>{a.r(h),a.d(h,{CarritoComprasPageModule:()=>M});var g=a(9808),u=a(4182),i=a(4881),d=a(4644),l=a(7582),t=a(2096),p=a(7556),f=a(1685);function _(n,s){if(1&n){const o=t.EpF();t.TgZ(0,"ion-item")(1,"table",13)(2,"thead")(3,"tr",14)(4,"td",15)(5,"b"),t._uU(6,"Cantidad."),t.qZA()(),t.TgZ(7,"td")(8,"b"),t._uU(9," Producto"),t.qZA()(),t.TgZ(10,"td")(11,"b"),t._uU(12,"Valor"),t.qZA()()()(),t.TgZ(13,"tbody")(14,"tr")(15,"td",16)(16,"span"),t._uU(17),t.qZA()(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td")(23,"ion-icon",17),t.NdJ("click",function(){const c=t.CHM(o).$implicit;return t.oxw(2).deleteProducto(c.product_id)}),t.qZA()()()(),t.TgZ(24,"tfoot")(25,"tr",18),t._UZ(26,"td",19)(27,"td"),t.qZA()()()()}if(2&n){const o=s.$implicit;t.xp6(17),t.Oqu(o.cantidad),t.xp6(2),t.Oqu(o.titulo),t.xp6(2),t.hij("$",o.originaPrice*o.cantidad,"")}}function C(n,s){if(1&n){const o=t.EpF();t.TgZ(0,"ion-content")(1,"ion-refresher",8),t.NdJ("ionRefresh",function(r){return t.CHM(o),t.oxw().doRefresh(r)}),t._UZ(2,"ion-refresher-content"),t.qZA(),t.YNc(3,_,28,3,"ion-item",9),t.TgZ(4,"div")(5,"b"),t._uU(6,"Subtotal:"),t.qZA(),t.TgZ(7,"div",10),t._uU(8),t.qZA()(),t.TgZ(9,"ion-row")(10,"ion-col")(11,"ion-button",11),t.NdJ("click",function(){return t.CHM(o),t.oxw().irASeguirComprando()}),t._UZ(12,"br"),t.TgZ(13,"small")(14,"b",12),t._uU(15,"Seguir Comprando"),t.qZA()()()()(),t.TgZ(16,"ion-row")(17,"ion-col")(18,"ion-button",11),t.NdJ("click",function(){return t.CHM(o),t.oxw().irPagePagar()}),t._UZ(19,"br"),t.TgZ(20,"small")(21,"b",12),t._uU(22,"Completar Orden"),t.qZA()()()()(),t.TgZ(23,"ion-row")(24,"ion-col")(25,"ion-button",11),t.NdJ("click",function(){return t.CHM(o),t.oxw().limpiarCarrito()}),t._UZ(26,"br"),t.TgZ(27,"small")(28,"b",12),t._uU(29,"Limpiar carrito"),t.qZA()()()()()()}if(2&n){const o=t.oxw();t.xp6(3),t.Q6J("ngForOf",o.data),t.xp6(5),t.hij("$",o.subtotal,"")}}function b(n,s){if(1&n){const o=t.EpF();t.TgZ(0,"ion-content",20)(1,"div",13)(2,"strong"),t._uU(3,"El carrito esta vac\xedo."),t.qZA()(),t.TgZ(4,"ion-row")(5,"ion-col")(6,"ion-button",11),t.NdJ("click",function(){return t.CHM(o),t.oxw().regresar()}),t._UZ(7,"br"),t.TgZ(8,"small")(9,"b",12),t._uU(10,"Regresar"),t.qZA()()()()()()}}const P=[{path:"",component:(()=>{class n{constructor(o,e,r,c,m,Z){this.alertCtrl=o,this.fb=e,this.auth=r,this.router=c,this.cs=m,this.navCtrl=Z,this.carrito=[],this.subtotal=0,this.product={},this.data=[],this.itemsCarrito="",this.FormSend=this.fb.group({field_direccion_entrega:[{value:""}],field_observaciones:[{value:""}]}),this.domicilio=parseInt(localStorage.getItem("tarifaOrigenRestaurante"),10)}ngOnInit(){return(0,l.mG)(this,void 0,void 0,function*(){this.auth.getAuxiliaresDisponiblesCarros().subscribe(o=>{console.log(o," aqui carro"),this.AuxCarrosDisponibles=o}),this.auth.getAuxiliaresDisponiblesMotos().subscribe(o=>{console.log(o," aqui motos"),this.AuxMotosDisponibles=o}),this.auth.getAuxiliaresDisponiblesMunicipio().subscribe(o=>{console.log(o," aqui aux municiipio"),this.AuxDisponiblesMunicipios=o}),this.subtotal=0,yield this.cs.get_cart().then(o=>{if(console.log("que pasa",this.data),o){this.data=o,console.log(this.data);for(let e in o)this.subtotal+=o[e].originaPrice*o[e].cantidad,this.total=this.subtotal+this.domicilio}})})}doRefresh(o){this.ngOnInit(),console.log("Begin async operation"),setTimeout(()=>{console.log("Async operation has ended"),o.target.complete()},2e3)}enviar(){this.cs.get_cart().then(o=>{})}irPageCombo1(){this.router.navigate(["/restaurante1"])}irPagePagar(){return(0,l.mG)(this,void 0,void 0,function*(){console.log(this.AuxMotosDisponibles.length,"lengt de vector motos"),0==this.AuxMotosDisponibles.length?0==this.AuxCarrosDisponibles.length?yield(yield this.alertCtrl.create({header:"Advertencia",message:"En este momento no tenemos auxiliar disponible, no podemos crear tu orden",buttons:[{text:"aceptar",handler:()=>{this.ngOnInit()}}]})).present():(this.auth.seleccionarServicioCarro(),setTimeout(()=>(0,l.mG)(this,void 0,void 0,function*(){console.log(this.data),this.observacion=this.auth.resumenObservacion;for(var o="",e=0;e<this.data.length;e++)o+=" Producto: "+this.data[e].titulo+"  ;   Precio: $"+this.data[e].field_price_simple+"  ;   Cantidad: "+this.data[e].cantidad+" ; Observaci\xf3n: "+this.data[e].observaciones.observacion+";";console.log(o),localStorage.setItem("enviarProductos",o),console.log(this.FormSend.value),this.auth.sendFormularioDatosCompra(this.FormSend.value)}),2e3)):(this.auth.seleccionarServicioMoto(),setTimeout(()=>(0,l.mG)(this,void 0,void 0,function*(){console.log(this.data),this.observacion=this.auth.resumenObservacion;for(var o="",e=0;e<this.data.length;e++)o+=" Producto: "+this.data[e].titulo+"  ;   Precio: $"+this.data[e].field_price_simple+"  ;   Cantidad: "+this.data[e].cantidad+" ; Observaci\xf3n: "+this.data[e].observaciones.observacion+";";console.log(o),localStorage.setItem("enviarProductos",o),console.log(this.FormSend.value),this.auth.sendFormularioDatosCompra(this.FormSend.value)}),2e3)),this.tituloRestaurante=localStorage.getItem("tituloRestaurante"),this.FormSend.controls.field_direccion_entrega.setValue(null!=this.tituloRestaurante?this.tituloRestaurante:"fruver")})}limpiarCarrito(){for(this.cs.clearCarrito(),this.cs.delete_cart();this.data.length;)this.data.pop();console.log(this.data,"aqui data"),localStorage.setItem("tienda",void 0)}deleteProducto(o){return(0,l.mG)(this,void 0,void 0,function*(){console.log("dlete",o),yield(yield this.alertCtrl.create({header:"\xbfEsta seguro que desea eliminar este producto?",message:"Vapaesa",buttons:[{text:"cancel",role:"cancel"},{text:"aceptar",handler:()=>{this.data.forEach((r,c)=>{r.product_id==o&&this.data.splice(c,1),this.cs.releaseProduct(o),localStorage.setItem("tienda",void 0)}),setTimeout(()=>{this.ngOnInit()},2e3)}}]})).present()})}ngOnDestroy(){}irASeguirComprando(){this.navCtrl.back()}regresar(){this.router.navigate(["/tabs"])}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(i.Br),t.Y36(u.qu),t.Y36(p.e),t.Y36(d.F0),t.Y36(f.z),t.Y36(i.SH))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-carrito-compras"]],decls:13,vars:3,consts:[["slot","start"],[1,"title","margin-botton-10"],[1,"subtitle"],["href","https://fonts.googleapis.com/css2?family=Poppins:ital,wght@1,700&display=swap","rel","stylesheet"],["href","https://fonts.googleapis.com/css2?family=Montserrat Light &display=swap","rel","stylesheet"],[4,"ngIf","ngIfElse"],["color","warning"],["carritovaciotmpl",""],["slot","fixed",3,"ionRefresh"],[4,"ngFor","ngForOf"],[1,"sub"],["replaceUrl","true","type","submit","color","warning","expand","block",3,"click"],[1,"button1"],[1,"margin-top-20"],["col","3"],[2,"width","20%"],[1,"has-text-centered"],["name","trash",3,"click"],[1,"carrito-total"],["colspan","2"],[1,"content2"]],template:function(o,e){if(1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-back-button"),t.qZA(),t.TgZ(4,"ion-title",1),t._uU(5," Carrito "),t.TgZ(6,"span",2),t._uU(7),t.qZA()(),t._UZ(8,"link",3)(9,"link",4),t.qZA()(),t.YNc(10,C,30,2,"ion-content",5),t.YNc(11,b,11,0,"ng-template",6,7,t.W1O)),2&o){const r=t.MAs(12);t.xp6(7),t.hij(" producto(s) :(",e.data.length,")"),t.xp6(3),t.Q6J("ngIf",e.data.length>0)("ngIfElse",r)}},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,g.O5,i.W2,i.nJ,i.Wo,g.sg,i.Ie,i.gu,i.Nd,i.wI,i.YG],styles:["ion-title[_ngcontent-%COMP%]{margin-left:-17%;text-align:center;text-transform:uppercase;color:#fff;font-family:Montserrat,sans-serif;font-weight:300}form[_ngcontent-%COMP%]{margin:auto;width:95%}ion-button[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}ion-toolbar[_ngcontent-%COMP%]{color:#fff;--ion-background-color: #262262}.ion-color-warning[_ngcontent-%COMP%]{--ion-color-base: #FFF200 !important}td[_ngcontent-%COMP%]{color:#262262;font-family:Montserrat,sans-serif;font-weight:300}.button1[_ngcontent-%COMP%]{color:#262262!important;font-family:Poppins,sans-serif!important}b[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{color:#262262;font-family:Montserrat,sans-serif;font-weight:300}body[_ngcontent-%COMP%]{--ion-color-primary-contrast: #ffffff}ion-tab-bar[_ngcontent-%COMP%]{--ion-background-color: #262262}ion-icon[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]{display:flex;color:#ff0}h1[_ngcontent-%COMP%]{margin:auto}ion-row[_ngcontent-%COMP%]{height:auto;width:auto}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-right:13px;border:none}ion-icon[_ngcontent-%COMP%]{font-size:30px;color:red}ion-item[_ngcontent-%COMP%]{padding:10px;border:1px solid}div[_ngcontent-%COMP%]{margin-left:38%;text-align:justify;margin-top:3%}.div1[_ngcontent-%COMP%]{margin-bottom:30%}ion-row[_ngcontent-%COMP%]{text-align:center}strong[_ngcontent-%COMP%]{margin-left:-11%}.sub[_ngcontent-%COMP%]{color:#262262;margin-left:44%!important;text-align:justify;margin-top:-10%!important;margin-right:4%;border:1px solid;text-align:right;height:29px;padding:6px}ion-content[_ngcontent-%COMP%]{--background:#ecf0f1 url(/assets/botones/FONDOENVIO2.png.jpg) 0 0/100% 100% repeat}"]}),n})()}];let v=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[d.Bz.forChild(P)],d.Bz]}),n})();var x=a(2090);let M=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.ez,u.u5,u.UX,i.Pc,v,x.Fw.forRoot()]]}),n})()}}]);