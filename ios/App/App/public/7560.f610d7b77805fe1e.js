"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7560],{7560:(w,f,a)=>{a.r(f),a.d(f,{CarroTallerPageModule:()=>M});var h=a(9808),l=a(4182),i=a(4881),m=a(4644),g=a(7582),p=a(2340),u=a(5071),e=a(2096),b=a(7556),_=a(9485);const C=["swiper"];function x(n,s){if(1&n&&(e.TgZ(0,"ion-select-option",26),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function O(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item",27),e.NdJ("click",function(){const c=e.CHM(t).$implicit;e.oxw();const d=e.MAs(12);return e.oxw().selected(c,d)}),e._uU(1),e.qZA()}if(2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function T(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card")(1,"form",7),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().sendForm()}),e.TgZ(2,"ion-label")(3,"b"),e._uU(4,"\xbfD\xf3nde te encuentras ?*"),e.qZA()(),e.TgZ(5,"ion-item",8)(6,"ion-select",9),e.NdJ("ionChange",function(r){return e.CHM(t),e.oxw().regionOrigen(r)}),e.YNc(7,x,2,2,"ion-select-option",10),e.qZA()(),e.TgZ(8,"ion-item"),e._UZ(9,"textarea",11),e.qZA(),e.TgZ(10,"ion-item",12)(11,"textarea",13,14),e.NdJ("input",function(r){return e.CHM(t),e.oxw().inputChanged(r)}),e._uU(13),e.qZA()(),e.TgZ(14,"ion-list",15),e.YNc(15,O,2,1,"ion-item",16),e.qZA(),e.TgZ(16,"ion-label")(17,"b"),e._uU(18,"Contacto Nombre :"),e.qZA()(),e.TgZ(19,"ion-item"),e._UZ(20,"textarea",17),e.qZA(),e.TgZ(21,"ion-label")(22,"b"),e._uU(23,"Contacto Tel\xe9fono:"),e.qZA()(),e.TgZ(24,"ion-item"),e._UZ(25,"textarea",18),e.qZA(),e.TgZ(26,"ion-label")(27,"b"),e._uU(28,"\xbfQue necesitas ?*"),e.qZA()(),e.TgZ(29,"ion-item")(30,"select",19)(31,"option",20),e._uU(32,"Paso de corriente"),e.qZA(),e.TgZ(33,"option",21),e._uU(34,"Cambio de llantas"),e.qZA(),e.TgZ(35,"option",22),e._uU(36,"Combustible"),e.qZA(),e.TgZ(37,"option",23),e._uU(38,"Cerrajer\xeda"),e.qZA()()(),e.TgZ(39,"ion-row",24)(40,"ion-col")(41,"ion-button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().slideNext()}),e.TgZ(42,"small")(43,"b"),e._uU(44,"Siguiente"),e.qZA()()()()()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.FormSend),e.xp6(4),e.Q6J("disabled",t.disabledValue),e.xp6(2),e.Q6J("ngForOf",t.locaciones),e.xp6(3),e.Q6J("disabled",t.bloquearInputBarrio),e.xp6(1),e.Q6J("hidden",t.ocultarInput),e.xp6(2),e.Oqu(t.barrio),e.xp6(1),e.Q6J("hidden",t.items.length<=0),e.xp6(1),e.Q6J("ngForOf",t.items)}}function P(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card")(1,"form",7),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().sendForm()}),e.TgZ(2,"ion-label")(3,"b"),e._uU(4,"Medio de pago:"),e.qZA()(),e.TgZ(5,"ion-grid")(6,"ion-row")(7,"ion-col",28),e._UZ(8,"img",29),e.qZA(),e.TgZ(9,"ion-col",30)(10,"div",31),e._UZ(11,"input",32),e.qZA()()(),e.TgZ(12,"ion-row")(13,"ion-col",28),e._UZ(14,"img",33),e.qZA(),e.TgZ(15,"ion-col",30)(16,"div",31),e._UZ(17,"input",34),e.qZA()()(),e._UZ(18,"br")(19,"br"),e.qZA(),e.TgZ(20,"ion-row",24)(21,"ion-col")(22,"ion-button",35)(23,"small")(24,"b"),e._uU(25,"!Vapaesa"),e.qZA()()(),e.TgZ(26,"ion-button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().slidePrev()}),e.TgZ(27,"small")(28,"b"),e._uU(29,"atras"),e.qZA()()()()()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.FormSend)}}const v=[{path:"",component:(()=>{class n{constructor(t,o,r,c,d){this.menucontrol=t,this.router=o,this.auth=r,this.fb=c,this.alertController=d,this.items=[],this.items2=[],this.swiperConfig={Virtual:!0,navigation:!0,allowTouchMove:!1,EffectFade:!0},this.AuxiliaresDisponiblesParaCarroTaller=[],this.slider=[],this.bloquearInputBarrio=!0,localStorage.setItem("servicioEvaluado","carrotaller"),this.menucontrol.enable(!1),this.urlBase=p.N.urlBase,this.FormSend=this.fb.group({field_direccion_entrega:[""],field_contacto:[""],field_observaciones:[""],field_locacion_entrega:[""],field_prefijo_origen:[""],field_metodo_de_pago:[""],field_barrio_origen:[""],field_nombre_c_origen:[""],field_url_imagen_origen:[""],field_longitud_origen:[""],field_latitud_origen_:[""]})}imagenCargada(t){this.imagenLista=t}slideNext(){return(0,g.mG)(this,void 0,void 0,function*(){if(0===this.AuxiliaresDisponiblesParaCarroTaller)yield(yield this.alertController.create({header:"Advertencia",message:"En este momento no tenemos auxiliar disponible",buttons:[{text:"aceptar",handler:()=>{this.ngOnInit()}}]})).present();else{console.log(this.FormSend.value.field_barrio_origen);for(var t=new Boolean,o=0;o<this.direccion.length;o++){if(this.FormSend.value.field_barrio_origen==this.direccion[o].name)return t=!0,void this.swiper.swiperRef.slideNext(1e3);t=!1}console.log(t),0==t&&(yield(yield this.alertController.create({header:"Error de barrios",message:"Barrio(s) no identificado, Debes seleccionar tu barrio de la lista",buttons:[{text:"aceptar"}]})).present())}})}slidePrev(){this.swiper.swiperRef.slidePrev(1e3)}inputChanged(t){return(0,g.mG)(this,void 0,void 0,function*(){const o=t.target.value;if(o.length<=0)return void(this.items=[]);const c=this.direccion.filter(d=>d.name.toLocaleLowerCase().includes(o.toLocaleLowerCase()));this.items=c})}inputChanged2(t){return(0,g.mG)(this,void 0,void 0,function*(){const o=t.target.value;if(o.length<=0)return void(this.items2=[]);console.log(this.direccion,"antes de");const r=this.direccion;console.log(r,"list");const c=r.filter(d=>d.name.toLocaleLowerCase().includes(o.toLocaleLowerCase()));this.items2=c})}selected(t,o){console.log("selected----\x3e",t.name),localStorage.setItem("tarifaOrigen",t.field_tarifa),localStorage.setItem("zona_origen",t.field_zona_a),localStorage.setItem("imgBarrioOrigen",t.field_imagen_barrio),localStorage.setItem("longitudOrigen",t.field_longitud),localStorage.setItem("latitudOrigen",t.field_latitud),localStorage.setItem("valorDeterminanteLONG",t.field_longitud_1),localStorage.setItem("valorDeterminanteLAT",t.field_latitud_1),this.FormSend.controls.field_url_imagen_origen.setValue(t.field_imagen_barrio),this.FormSend.controls.field_longitud_origen.setValue(t.field_longitud),this.FormSend.controls.field_latitud_origen_.setValue(t.field_latitud),this.FormSend.patchValue({item:t}),this.items=[],o.value=t.name,this.FormSend.controls.field_barrio_origen.setValue(t.name)}openResumen(){this.auth.sendFormulario(this.FormSend.value)}iraIndex(){this.router.navigate(["/tabs"])}sendForm(){return(0,g.mG)(this,void 0,void 0,function*(){this.FormSend.invalid||""===this.FormSend.value.field_metodo_de_pago?yield(yield this.alertController.create({header:"Datos incompletos ",message:"llenar todos los datos.",buttons:["Aceptar"]})).present():0===this.AuxiliaresDisponiblesParaCarroTaller.length?yield(yield this.alertController.create({header:"Advertencia",message:"En este momento no tenemos auxiliar disponible, no podemos crear tu orden",buttons:[{text:"aceptar",handler:()=>{this.router.navigate(["/tabs"])}}]})).present():(this.auth.sendFormularioCarrotaller(this.FormSend.value),this.router.navigate(["/resumen-carrotaller"]))})}ngOnInit(){this.permitirPagoEfectivo=localStorage.getItem("permitirPagoefectivo"),this.auth.getCiudad().subscribe(t=>{console.log(t," ciudad"),this.ciudades=t}),this.auth.getAuxiliaresDisponiblesParaCarroTaller().subscribe(t=>{console.log(t," aqui carro"),this.AuxiliaresDisponiblesParaCarroTaller=t}),this.auth.seleccionarSliderCarroTaller().subscribe(t=>{console.log(t," aqui slider"),this.slider=t[0].field_imagen_taller_slider_1,console.log(this.slider)}),this.auth.getListLocaciones().subscribe(t=>{console.log(t),this.locaciones=t},t=>{console.log(t)}),u.ZP.use([u.tl,u.W_,u.xW,u.eZ])}regionOrigen(t){console.log("regionOrigen"),this.locacion=t.detail.value,console.log(t),""!=t&&(this.auth.locacion=t,localStorage.setItem("locacionOrigenSeleccionada",t),this.WillEnterOrigen())}WillEnterOrigen(){return(0,g.mG)(this,void 0,void 0,function*(){try{const t=yield this.auth.getListBarriosSeleccion().toPromise();if(console.log(t),this.direccion=t,console.log(this.direccion,"direccion"),console.log(this.direccion.length),this.bloquearInputBarrio=!1,1===this.direccion.length&&"San Andr\xe9s"!==this.direccion[0].name){const o=this.direccion[0];this.FormSend.controls.field_locacion_entrega.setValue(o.name),this.FormSend.controls.field_barrio_origen.setValue(o.name),this.ocultarInputOrigen=!0,this.disabledValueOrigen=!0,localStorage.setItem("tarifaOrigen",o.field_tarifa_externa),localStorage.setItem("imgBarrioOrigen",o.field_imagen_barrio),localStorage.setItem("longitudOrigen",o.field_longitud),localStorage.setItem("latitudOrigen",o.field_latitud),localStorage.setItem("valorDeterminanteLONG",o.field_longitud_1),localStorage.setItem("valorDeterminanteLAT",o.field_latitud_1),console.log("selected----\x3e origin",o.field_zona_a),localStorage.setItem("zona_origen",o.field_zona_a),document.getElementById("itemOrigen").style.visibility="hidden"}else if(1===this.direccion.length&&"San Andr\xe9s"===this.direccion[0].name){const o=this.direccion[0];this.FormSend.controls.field_locacion_entrega.setValue(o.name),this.FormSend.controls.field_barrio_origen.setValue(o.name),localStorage.setItem("tarifaOrigen",o.field_tarifa),localStorage.setItem("imgBarrioOrigen",o.field_imagen_barrio),localStorage.setItem("longitudOrigen",o.field_longitud),localStorage.setItem("latitudOrigen",o.field_latitud),localStorage.setItem("valorDeterminanteLONG",o.field_longitud_1),localStorage.setItem("valorDeterminanteLAT",o.field_latitud_1),console.log("selected----\x3e origin",o.field_zona_a),localStorage.setItem("zona_origen",o.field_zona_a),this.ocultarInputOrigen=!0,this.disabledValueOrigen=!0}else this.direccion.length>1&&(this.FormSend.controls.field_barrio_origen.setValue(""),this.ocultarInputOrigen=!1,this.disabledValueOrigen=!0,document.getElementById("itemOrigen").style.visibility="visible")}catch(t){console.log(t),yield(yield this.alertController.create({header:"Error de locaci\xf3n",message:"Su locaci\xf3n no tiene barrios asignados.",buttons:[{text:"Aceptar",handler:()=>{}}]})).present()}})}ngOnDestroy(){console.log("Sencilla- OnDestroy")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i._q),e.Y36(m.F0),e.Y36(b.e),e.Y36(l.qu),e.Y36(i.Br))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-carro-taller"]],viewQuery:function(t,o){if(1&t&&e.Gf(C,5),2&t){let r;e.iGM(r=e.CRH())&&(o.swiper=r.first)}},decls:14,vars:2,consts:[["slot","start"],[1,"contentImg"],["src","../../assets/banners/carro_taller.gif","alt","",1,"img-slider"],[1,"contain"],[3,"virtual","config"],["swiper",""],["swiperSlide",""],[3,"formGroup","ngSubmit"],["id","locacionOrigen",3,"disabled"],["formControlName","field_locacion_entrega",1,"locacion",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","field_direccion_entrega","placeholder","Direcci\xf3n","type","text","siz","","required",""],["id","itemOrigen",3,"disabled"],["formControlName","field_barrio_origen","placeholder","Barrio de Origen","type","text",3,"hidden","input"],["input",""],[3,"hidden"],[3,"click",4,"ngFor","ngForOf"],["formControlName","field_nombre_c_origen","placeholder","Nombre","type","text","required",""],["formControlName","field_contacto","placeholder","N\xfamero de celular","type","text","required",""],["formControlName","field_observaciones",1,"locacion"],["value","Paso de corriente"],["value","Cambio de llantas"],["value","Combustible"],["value","Cerrajer\xeda"],[1,"rowBorder"],["expand","block","color","danger",3,"click"],[3,"value"],[3,"click"],["size","5"],["src","../../assets/botones/PAGOSCOLOR-97.png","width","80%","height","80%","alt","",1,"col-img"],["size","7"],[1,"form-check"],["type","radio","formControlName","field_metodo_de_pago","value","nequi",1,"form-check-input"],["src","../../assets/botones/PAGOSCOLOR-98.png","width","80%","height","80%","alt","",1,"col-img"],["formControlName","field_metodo_de_pago","type","radio","value","daviplata",1,"form-check-input"],["expand","block","type","submit","color","danger"],["replaceUrl","true","color","danger","expand","block",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Carro taller"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"div",1),e._UZ(8,"ion-img",2),e.qZA(),e.TgZ(9,"ion-card-content",3)(10,"swiper",4,5),e.YNc(12,T,45,8,"ng-template",6),e.YNc(13,P,30,1,"ng-template",6),e.qZA()()()),2&t&&(e.xp6(10),e.Q6J("virtual",!0)("config",o.swiperConfig))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,i.W2,i.Xz,i.FN,_.nF,_.YC,i.PM,l._Y,l.JL,l.sg,i.Q$,i.Ie,i.t9,i.QI,l.JJ,l.u,h.sg,i.n0,l.Fj,l.Q7,i.q_,l.EJ,l.YN,l.Kr,i.Nd,i.wI,i.YG,i.jY,l._],styles:["ion-title[_ngcontent-%COMP%]{margin-left:-17%;text-align:center;text-transform:uppercase;color:#fff;font-family:Montserrat,sans-serif;font-weight:300}form[_ngcontent-%COMP%]{margin:auto;width:95%}ion-toolbar[_ngcontent-%COMP%]{color:#fff;--ion-background-color: #262262}.ion-color-warning[_ngcontent-%COMP%]{--ion-color-base: #FFF200 !important}ion-content[_ngcontent-%COMP%]{--background:#ecf0f1 url(/assets/botones/FONDOENVIO2.png.jpg) 0 0/100% 100% repeat}small[_ngcontent-%COMP%]{font-size:15px;color:#fff;font-family:Poppins,sans-serif}.form-check[_ngcontent-%COMP%]{padding:10px}.contentImg[_ngcontent-%COMP%]{text-align:center}ion-icon[_ngcontent-%COMP%]{font-size:25px;color:#fff}ion-buttons[_ngcontent-%COMP%]{text-align:center;margin-left:11px}ion-card[_ngcontent-%COMP%]{border-radius:20px;padding:20px 0}input[_ngcontent-%COMP%]{float:right;background-color:#ecf0f1;margin-right:6%}label[_ngcontent-%COMP%]{margin-left:5%;color:#262262;font-family:Montserrat,sans-serif;font-weight:300}.rowBorder[_ngcontent-%COMP%]{border:none!important}ion-row[_ngcontent-%COMP%]{border-bottom:2px solid}h2[_ngcontent-%COMP%]{color:#262262;font-family:Montserrat,sans-serif;font-weight:300}.corto[_ngcontent-%COMP%]{height:38px;width:65%;display:block;background-color:#ecf0f1;color:#262262;font-size:17px;border:1px solid #333}select[_ngcontent-%COMP%]{color:#262262;font-family:Montserrat,sans-serif;font-weight:300;width:115px;height:38px;background-color:#ecf0f1}ion-col[_ngcontent-%COMP%]{text-align:center}input[_ngcontent-%COMP%]{background-color:#ecf0f1}textarea[_ngcontent-%COMP%]{line-height:2;color:#262262;background-color:#ecf0f1;height:38px;width:100%}ion-input[_ngcontent-%COMP%]{height:38px;width:100%;display:block;background-color:#ecf0f1;color:#262262;font-size:18px;border:1px solid #333}.descaera[_ngcontent-%COMP%]{height:100px;width:100%;display:block;background-color:#ecf0f1;color:#262262;font-size:1rem;border:1px solid #333}.locacion[_ngcontent-%COMP%]{color:#262262;background-color:#ecf0f1;border:unset;width:100%}ion-tab-bar[_ngcontent-%COMP%]{--ion-background-color: #262262}button[_ngcontent-%COMP%]{display:inline-block;border-radius:none;width:120px;margin:auto}ion-label[_ngcontent-%COMP%]{display:flex;margin-left:15.5px;color:#262262;font-family:Montserrat,sans-serif;font-weight:300;text-transform:uppercase}label[_ngcontent-%COMP%]{color:#262262;font-family:Montserrat,sans-serif;font-weight:300}ion-item[_ngcontent-%COMP%]{--ion-background-color: transparent !important;--min-height: 0 !important;--border-width: 0 0 0 0 !important;--inner-border-width: 0 !important;--show-full-highlight: 0 !important;--show-inset-highlight: 0 !important;margin-bottom:2%}.slide.round[_ngcontent-%COMP%]{border-radius:34px}.slide.round[_ngcontent-%COMP%]:before{border-radius:50%}body[_ngcontent-%COMP%]{--ion-color-primary-contrast: #ffffff}ion-button[_ngcontent-%COMP%]{color:#262262;font-family:Poppins,sans-serif}"]}),n})()}];let Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.Bz.forChild(v)],m.Bz]}),n})();var S=a(5642);let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[h.ez,l.u5,_.kz,l.UX,i.Pc,Z,S.K]]}),n})()}}]);