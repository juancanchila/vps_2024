"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9302],{9302:(A,g,n)=>{n.r(g),n.d(g,{DescripcionProductosPageModule:()=>v});var p=n(9808),a=n(4182),i=n(4881),u=n(4644),d=n(7582),h=n(2340),t=n(2096),f=n(7556),m=n(1685);const _=[{path:"",component:(()=>{class r{constructor(o,e,s,c,C,S,O){this.router=o,this.auth=e,this._route=s,this.cs=c,this.navCtrl=C,this.alertCtrl=S,this.fb=O,this.data=[],this.itemsCarrito="",this.subtotal=0,this.character=[],this.product2=[],this.tienda="",this.cantidadDestinos=1,this.cantidad=0,this.cantidades=0,this.FormSend=this.fb.group({observacion:[""]}),this.urlBase=h.N.urlBase,this._route.paramMap.subscribe(M=>{this.product=JSON.parse(M.get("product")),this.product.field_price_simple=parseFloat(this.product.field_price_simple),this.originaPrice=this.product.field_price_simple,this.product.observaciones=this.FormSend.value,this.product.originaPrice=this.product.field_price_simple,console.log(this.product,"products")})}ngOnInit(){this.auth.getAuxiliaresDisponiblesCarros().subscribe(o=>{console.log(o," aqui carro"),this.AuxCarrosDisponibles=o}),this.auth.getAuxiliaresDisponiblesMotos().subscribe(o=>{console.log(o," aqui motos"),this.AuxMotosDisponibles=o}),this.auth.getAuxiliaresDisponiblesMunicipio().subscribe(o=>{console.log(o," aqui aux municiipio"),this.AuxDisponiblesMunicipios=o}),this.precioBase=this.product.field_price_simple}ngAfterViewInit(){return(0,d.mG)(this,void 0,void 0,function*(){yield this.cs.get_cart().then(o=>{if(console.log("que pasa",this.data),o){this.data=o,console.log(this.data);for(let e in o)this.subtotal+=o[e].field_price_simple,this.total=this.subtotal+this.domicilio}})})}ionViewWillEnter(){this.cantidadDestinos=1,this.precioBase=this.product.field_price_simple}presentAlert(){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({header:"Atenci\xf3n:",message:"Su producto fue a\xf1adido con \xe9xito.",buttons:[{text:"aceptar",handler:()=>{this.navCtrl.back()}}]})).present()})}BackAlert(){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({header:"Atenci\xf3n:",message:"Regrese a la tienda donde seleccion\xf3 el primer articulo",buttons:["Aceptar"]})).present()})}irAgregarCarrito(){this.auth.getAuxiliaresDisponiblesMotos().subscribe(o=>(0,d.mG)(this,void 0,void 0,function*(){console.log(o," aqui motos"),this.AuxMotosDisponibles=o,console.log(this.AuxMotosDisponibles.length,"lengt de vector motos"),0==this.AuxMotosDisponibles.length?this.auth.getAuxiliaresDisponiblesCarros().subscribe(e=>(0,d.mG)(this,void 0,void 0,function*(){console.log(e," aqui carro"),this.AuxCarrosDisponibles=e,0==this.AuxCarrosDisponibles.length?yield(yield this.alertCtrl.create({header:"Advertencia",message:"En este momento no tenemos auxiliar disponible, no podemos agregar productos",buttons:[{text:"aceptar",handler:()=>{this.ngOnInit()}}]})).present():(this.auth.seleccionarServicioCarro(),console.log(this.FormSend.value),this.product.observaciones=this.FormSend.value,console.log(this.product.stores_target_id,"target id"),"undefined"==localStorage.getItem("tienda")?(this.auth.sendFormObservacion(this.FormSend.value),this.tienda=this.product.stores_target_id,localStorage.setItem("tienda",this.tienda),localStorage.setItem("zona_origen",this.product.field_zona_b),console.log("Definiendo ZOna"),this.product.cantidad=this.cantidadDestinos,console.log(this.product.cantidad,"aqui cantidad"),this.cs.set_cart(this.product).then(c=>{console.log(c),this.product.observaciones=this.FormSend.value}),this.presentAlert()):localStorage.getItem("tienda")==this.product.stores_target_id?(console.log(this.product,"imprimiendo producto"),this.product.cantidad=this.cantidadDestinos,console.log(this.cs,"aqui res"),this.cs.set_cart(this.product).then(c=>{console.log(c,"aqui res"),this.auth.sendFormObservacion(this.FormSend.value)}),this.presentAlert(),localStorage.setItem("tarifaOrigenRestaurante",this.product.field_tarifa),localStorage.setItem("imgBarrioOrigenRestaurante",this.product.field_imagen_barrio),localStorage.setItem("longitudOrigenRestaurante",this.product.field_longitud),localStorage.setItem("latitudOrigenRestaurante",this.product.field_latitud),localStorage.setItem("BarrioRestaurante",this.product.field_barrio_online),localStorage.setItem("DireccionRestaurante",this.product.field_dir_online),localStorage.setItem("locacionTiendas",this.product.field_location_online),localStorage.setItem("locacionOrigenSeleccionada",this.product.field_location_online),localStorage.setItem("tarifaOrigen",this.product.field_tarifa),localStorage.setItem("tarifaExternaOrigen",this.product.field_tarifa_externa)):(this.BackAlert(),this.tienda=localStorage.getItem("idTienda")))})):(this.auth.seleccionarServicioMoto(),console.log(this.FormSend.value),this.product.observaciones=this.FormSend.value,console.log(this.product.stores_target_id,"target id"),"undefined"===localStorage.getItem("tienda")?(this.auth.sendFormObservacion(this.FormSend.value),this.tienda=this.product.stores_target_id,localStorage.setItem("tienda",this.tienda),localStorage.setItem("zona_origen",this.product.field_zona_b),localStorage.setItem("img_zona_origen",this.product.field_img_barrio),localStorage.setItem("lat_origen",this.product.field_latitud),localStorage.setItem("lon_origen",this.product.field_longitud),console.log("definiendo origen del producto"),this.product.cantidad=this.cantidadDestinos,console.log(this.product.cantidad,"aqui cantidad"),this.cs.set_cart(this.product).then(e=>{console.log(e),this.product.observaciones=this.FormSend.value}),this.presentAlert()):localStorage.getItem("tienda")===this.product.stores_target_id?(console.log(this.product,"imprimiendo producto"),this.product.cantidad=this.cantidadDestinos,console.log(this.cs,"aqui res"),this.cs.set_cart(this.product).then(e=>{console.log(e,"aqui res"),this.auth.sendFormObservacion(this.FormSend.value)}),this.presentAlert(),localStorage.setItem("tarifaOrigenRestaurante",this.product.field_tarifa),localStorage.setItem("imgBarrioOrigenRestaurante",this.product.field_imagen_barrio),localStorage.setItem("longitudOrigenRestaurante",this.product.field_longitud),localStorage.setItem("latitudOrigenRestaurante",this.product.field_latitud),localStorage.setItem("BarrioRestaurante",this.product.field_barrio_online),localStorage.setItem("DireccionRestaurante",this.product.field_dir_online),localStorage.setItem("locacionTiendas",this.product.field_location_online),localStorage.setItem("locacionOrigenSeleccionada",this.product.field_location_online),localStorage.setItem("tarifaOrigen",this.product.field_tarifa),localStorage.setItem("tarifaExternaOrigen",this.product.field_tarifa_externa)):(this.BackAlert(),this.tienda=localStorage.getItem("idTienda")))}))}irPageCarritoCompras(){console.log(this.data),this.observacion=this.auth.resumenObservacion;for(var o="",e=0;e<this.data.length;e++)o+=" Producto: "+this.data[e].titulo+"  ;   Precio: $"+this.data[e].field_price_simple+"  ;   Cantidad: "+this.data[e].cantidad+" ; Observaci\xf3n: "+this.data[e].observaciones.observacion+";";console.log(o),localStorage.setItem("enviarProductos",o),0!=this.data.length&&this.router.navigate(["/resumen-datos-envio-compras"])}irASeguirComprando(){this.navCtrl.back()}ngOnDestroy(){}add(){const o=localStorage.getItem("servicioEvaluado");("fruver"===o||"emprendedores"===o)&&this.cantidadDestinos>=8||(this.cantidadDestinos++,this.calc())}calc(){this.product.field_price_simple=this.originaPrice*this.cantidadDestinos,this.precioBase=this.originaPrice*this.cantidadDestinos}rest(){this.cantidadDestinos>1&&(this.cantidadDestinos--,this.calc())}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(u.F0),t.Y36(f.e),t.Y36(u.gz),t.Y36(m.z),t.Y36(i.SH),t.Y36(i.Br),t.Y36(a.qu))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-descripcion-productos"]],decls:56,vars:6,consts:[["slot","start"],["href","https://fonts.googleapis.com/css2?family=Poppins:ital,wght@1,700&display=swap","rel","stylesheet"],[1,"title"],[3,"src"],[1,"detalle_producto"],[1,"title_blue"],[1,"title_blue","agregar"],[1,"counter"],["name","remove-outline",1,"rest",3,"click"],["type","text","disabled","true",1,"input"],[1,"cont"],["name","add-outline",1,"mas",3,"click"],[3,"formGroup"],[1,"gray-line"],["type","text","formControlName","observacion",1,"observacion"],["replaceUrl","true","type","submit","color","danger","expand","block",1,"colorButtom",3,"click"],["replaceUrl","true","type","submit","color","warning","expand","block",3,"click"],[1,"smallBlank"]],template:function(o,e){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-back-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Productos"),t.qZA(),t._UZ(6,"link",1),t.qZA()(),t.TgZ(7,"ion-content")(8,"ion-grid")(9,"ion-row")(10,"ion-card")(11,"h1",2),t._uU(12),t.qZA(),t._UZ(13,"ion-img",3),t.TgZ(14,"p",4),t._uU(15),t.qZA(),t._UZ(16,"br")(17,"br"),t.TgZ(18,"ion-row")(19,"p",5),t._uU(20),t.qZA(),t.TgZ(21,"p",6),t._uU(22,"Agregar "),t.qZA(),t.TgZ(23,"div",7)(24,"ion-icon",8),t.NdJ("click",function(){return e.rest()}),t.qZA(),t.TgZ(25,"ion-input",9)(26,"h1",10),t._uU(27),t.qZA()(),t.TgZ(28,"ion-icon",11),t.NdJ("click",function(){return e.add()}),t.qZA()()(),t.TgZ(29,"form",12),t._UZ(30,"div",13),t.TgZ(31,"p",5),t._uU(32,"Observaci\xf3n :"),t.qZA(),t.TgZ(33,"ion-item")(34,"textarea",14),t._uU(35," "),t.qZA()()(),t.TgZ(36,"ion-row")(37,"ion-button",15),t.NdJ("click",function(){return e.irAgregarCarrito()}),t._UZ(38,"br"),t.TgZ(39,"small")(40,"b"),t._uU(41,"A\xf1adir Producto"),t.qZA()()()(),t.TgZ(42,"ion-row")(43,"ion-button",15),t.NdJ("click",function(){return e.irASeguirComprando()}),t._UZ(44,"br"),t.TgZ(45,"small")(46,"b"),t._uU(47,"Seguir Comprando"),t.qZA()()()(),t.TgZ(48,"ion-row")(49,"ion-button",16),t.NdJ("click",function(){return e.irPageCarritoCompras()}),t._UZ(50,"br"),t.TgZ(51,"small",17)(52,"b"),t._uU(53,"Completar Orden"),t.qZA()()()(),t._UZ(54,"br")(55,"br"),t.qZA()()()()),2&o&&(t.xp6(12),t.hij(" ",e.product.titulo," "),t.xp6(1),t.Q6J("src",e.urlBase+e.product.field_img_apk),t.xp6(2),t.hij(" ",e.product.field_descripcion_del_producto," "),t.xp6(5),t.hij("$",e.precioBase,""),t.xp6(7),t.hij("",e.cantidadDestinos," "),t.xp6(2),t.Q6J("formGroup",e.FormSend))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,i.W2,i.jY,i.Nd,i.PM,i.Xz,i.gu,i.pK,i.j9,a._Y,a.JL,a.sg,i.Ie,a.Fj,a.JJ,a.u,i.YG],styles:['@charset "UTF-8";ion-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:300;text-align:center;text-transform:uppercase;margin-left:-10%}ion-toolbar[_ngcontent-%COMP%]{color:#fff;--ion-background-color: #262262}.title[_ngcontent-%COMP%]{font-family:"Montserrat Light ",sans-serif;text-align:center;text-transform:uppercase;font-size:20px}.title_blue[_ngcontent-%COMP%]{text-align:left;color:#262262;font-family:Poppins,sans-serif;padding:0!important;margin-left:10px}p[_ngcontent-%COMP%]{padding:10px;color:#262262;font-family:Montserrat,sans-serif;font-weight:300}small[_ngcontent-%COMP%]{color:#fff}.smallBlank[_ngcontent-%COMP%]{color:#262262}.ion-color-warning[_ngcontent-%COMP%]{--ion-color-base: #FFF200 !important}ion-button[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;display:inline-block;--ion-background-color: #fff0;color:#262262;width:100%}.colorButtom[_ngcontent-%COMP%]{color:#fff}ion-card[_ngcontent-%COMP%]{width:95%}.observacion[_ngcontent-%COMP%]{width:100%;height:100px;border:none}textarea[_ngcontent-%COMP%]{background-color:#f2f1f5}body[_ngcontent-%COMP%]{--ion-color-primary-contrast: #ffffff}ion-tab-bar[_ngcontent-%COMP%]{--ion-background-color: #262262}ion-icon[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]{display:flex;margin-left:15.5px;color:#ff0}h1[_ngcontent-%COMP%]{color:#262262;font-family:Montserrat,sans-serif;font-weight:300;margin:auto}ion-row[_ngcontent-%COMP%]{height:auto;width:auto}ion-icon[_ngcontent-%COMP%]{font-size:60px}ion-icon[_ngcontent-%COMP%]{float:left;color:#000;font-size:20px;padding-top:5px}.mas[_ngcontent-%COMP%]{color:#fff}.rest[_ngcontent-%COMP%]{padding-right:9px;color:#fff}.cont[_ngcontent-%COMP%]{color:#fff}.input[_ngcontent-%COMP%]{margin:auto;color:#000;float:left;height:20px;width:20px}.counter[_ngcontent-%COMP%]{height:35px;padding:5px;border-radius:5px;background-color:#262262;margin:auto}.price[_ngcontent-%COMP%]{margin-left:-46%}.obs[_ngcontent-%COMP%]{padding:10px}.gray-line[_ngcontent-%COMP%]{width:100%;height:2px;background-color:#f2f1f5;margin:10px 0}.agregar[_ngcontent-%COMP%]{margin-left:25%}.detalle_producto[_ngcontent-%COMP%]{padding:5px}@media (max-width: 350px){.agregar[_ngcontent-%COMP%]{margin-left:4%}}']}),r})()}];let b=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[u.Bz.forChild(_)],u.Bz]}),r})();var P=n(2090);let v=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[p.ez,a.u5,a.UX,i.Pc,b,P.Fw.forRoot()]]}),r})()}}]);